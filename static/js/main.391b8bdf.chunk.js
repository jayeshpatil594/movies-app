(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{44:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var r,s,c,i,o,a=n(0),l=n.n(a),d=n(22),j=n.n(d),p=n(5),u=(n(44),n(1)),h=function(){return Object(u.jsx)("div",{style:{textAlign:"center",backgroundColor:"black",minHeight:"40px"},children:Object(u.jsxs)("div",{style:{color:"red",paddingTop:"0.4rem"},children:[Object(u.jsx)("span",{style:{fontWeight:"900"},children:" \xa9\ufe0f netflix"}),"roulette"]})})},v=n(14),b=n(4),m=n(15),O=n(33),x=n(56),g=n(57),f=n(59),y=n(17),M=n(8),w=n.n(M),k=n(19),D="FETCH_TOP_RATED_MOVIES",B="FETCH_UPCOMING_MOVIES",E="SEARCH_MOVIES_BY_TITLE",T="SEARCH_MOVIES_BY_GENRE",C="FETCH_MOVIE_DETAILS",_="FETCH_MOVIES_BY_GENRE",R="https://reactjs-cdp.herokuapp.com/movies",G=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var r,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(R,"/?search=").concat(e,"&searchBy=title&limit=20"));case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,n({type:E,payload:s.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var r,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(R,"/?search=").concat(e,"&searchBy=genres&limit=20"));case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,n({type:T,payload:s.data}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},I=n(11),F=y.a.div(r||(r=Object(m.a)(["\n  padding-top: 1rem;\n  width: 100%;\n"]))),L=Object(y.a)(f.a)(s||(s=Object(m.a)(["\n  margin-top: 1rem;\n  height: 3rem;\n  width: 100%;\n"]))),A=Object(I.b)((function(e){return{movies:e.movies.sortedMovies}}),{searchMoviesByTitle:G,searchMoviesByGenre:S})((function(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),r=n[0],s=n[1],c=Object(a.useState)("Title"),i=Object(O.a)(c,2),o=i[0],l=i[1],d=function(e){e.preventDefault(),s(e.target.value),console.log("Search movie",e.target.value)},j=function(){console.log(e,r),"title"===o.toLowerCase()?e.searchMoviesByTitle(r):e.searchMoviesByGenre(r)},p=function(e){l(e.target.textContent)};return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(x.a,{style:{paddingTop:"1.5rem"},children:Object(u.jsx)(g.a,{sm:8,children:Object(u.jsx)("h2",{children:"FIND YOUR MOVIE"})})}),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(g.a,{sm:8,children:Object(u.jsx)(F,{children:Object(u.jsx)("input",{type:"search",placeholder:"Search movies",style:{height:"3rem",width:"100%"},onChange:d,onKeyUp:function(e){"Enter"===e.code&&(d(e),j())}})})}),Object(u.jsx)(g.a,{sm:4,children:Object(u.jsxs)(L,{variant:"danger",onClick:j,children:[" ","SEARCH \ud83d\udd0d"]})})]}),Object(u.jsx)(x.a,{children:Object(u.jsxs)(g.a,{style:{marginTop:"0.5rem"},children:["SEARCH BY"," ",Object(u.jsx)(f.a,{variant:"title"===o.toLowerCase()?"danger":"secondary",onClick:p,children:"TITLE"}),Object(u.jsx)(f.a,{variant:"genres"===o.toLowerCase()?"danger":"secondary",onClick:p,children:"GENRES"})]})})]})})),N=n.p+"static/media/cover-image.33770dcd.jpg",H=n(58),Y={backgroundImage:"url(".concat(N,")"),height:"100%"},U=function(){return Object(u.jsx)(H.a,{style:Y,children:Object(u.jsxs)("div",{style:{padding:"2rem"},children:[Object(u.jsxs)("h4",{style:{color:"red"},children:[Object(u.jsx)("span",{style:{fontWeight:"900"},children:"netflix"}),"roulette"]}),Object(u.jsx)(A,{})]})})},V=n(23),P=n(24),W=n(27),z=n(26),J=y.a.span(c||(c=Object(m.a)(["\n  position: absolute;\n  top: 0;\n  right: 15px;\n  background: black;\n  color: #00ff00;\n  padding: 3px 5px;\n  border-radius: 50%;\n"]))),K=function(e){var t=e.movie,n=new Date(t.release_date).getFullYear();return Object(u.jsx)(g.a,{children:Object(u.jsxs)(v.b,{to:"/movies-app/details/".concat(t.id),children:[Object(u.jsx)("div",{style:{paddingBottom:"0.5rem"},children:Object(u.jsx)("img",{style:{width:"100%"},src:t.poster_path,alt:t.title})}),Object(u.jsxs)("p",{children:[t.title," ",Object(u.jsxs)(J,{children:["\u2606",t.vote_average," "]})," ",Object(u.jsx)("span",{style:{marginLeft:"1rem",color:"white",border:"1px solid white",borderRadius:"10%",paddingLeft:"0.4rem",paddingRight:"0.4rem"},children:n})]})]})})},q=function(e){Object(W.a)(n,e);var t=Object(z.a)(n);function n(){var e;return Object(V.a)(this,n),(e=t.call(this)).sortMovies=function(t){console.log(t),"RATING"===t.target.textContent?(e.props.topRatedMovies(),e.setState({showUpcomingMovies:!1,showTopRatedMovies:!0})):(e.props.upcomingMovies(),e.setState({showUpcomingMovies:!0,showTopRatedMovies:!1}))},e.state={showUpcomingMovies:!0,showTopRatedMovies:!1},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.upcomingMovies()}},{key:"render",value:function(){var e=this,t=this.props.movies,n=this.state,r=n.showTopRatedMovies,s=n.showUpcomingMovies;return console.log(this.props),Object(u.jsx)(a.Fragment,{children:Object(u.jsxs)(H.a,{style:{paddingTop:"1rem"},children:[Object(u.jsxs)(x.a,{style:{paddingBottom:"1rem"},children:[Object(u.jsx)(g.a,{children:t&&t.length>0?"".concat(t.length," movies found"):"No movies found"}),Object(u.jsxs)(g.a,{md:{span:"4",offset:"4"},children:["SORT BY"," ",Object(u.jsxs)(f.a,{onClick:function(t){return e.sortMovies(t)},variant:s?"danger":"secondary",children:[" ","RELEASE DATE"]}),Object(u.jsx)(f.a,{variant:r?"danger":"secondary",onClick:this.sortMovies,children:"RATING"})]})]}),Object(u.jsx)(x.a,{xs:1,md:3,lg:4,children:t.map((function(e){return Object(u.jsx)(K,{movie:e},e.id)}))})]})})}}]),n}(a.Component),Q=Object(I.b)((function(e){return{movies:e.movies.sortedMovies}}),{upcomingMovies:function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"?limit=20&sortBy=release_date&sortOrder=desc"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t({type:B,payload:r.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},topRatedMovies:function(){return function(){var e=Object(k.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(R,"?sortBy=vote_average&sortOrder=desc&limit=20"));case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,t({type:D,payload:r.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},searchMoviesByTitle:G,searchMoviesByGenre:S})(q),X=function(){return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(U,{}),Object(u.jsx)(Q,{})]})},Z=y.a.span(i||(i=Object(m.a)(["\n  position: absolute;\n  font-size: 1.5rem;\n  background: black;\n  color: #00ff00;\n  padding: 0.4rem;\n  border-radius: 50%;\n  border: 1px solid white;\n"]))),$=y.a.span(o||(o=Object(m.a)(["\n  color: red;\n  font-size: 1.5rem;\n"]))),ee=function(e){if(!e.movieDetails)return Object(u.jsx)("div",{children:" No details found "});var t=new Date(e.movieDetails.release_date).getFullYear();return Object(u.jsxs)("div",{style:{backgroundColor:"black"},children:[Object(u.jsx)(v.b,{to:"/movies-app",children:Object(u.jsxs)("h4",{style:{color:"red",padding:"1rem"},children:[Object(u.jsx)("span",{style:{fontWeight:"900"},children:" \u2b05\ufe0f netflix"}),"roulette",Object(u.jsx)("span",{style:{position:"absolute",right:"5%"},children:"\ud83d\udd0d"})]})}),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(g.a,{sm:4,style:{paddingLeft:"1rem"},children:Object(u.jsx)("img",{style:{display:"block",marginLeft:"auto",marginRight:"auto",width:"70%"},src:e.movieDetails.poster_path,alt:e.movieDetails.title})}),Object(u.jsxs)(g.a,{sm:8,children:[Object(u.jsxs)("h2",{children:[e.movieDetails.title,Object(u.jsx)(Z,{children:e.movieDetails.vote_average})]}),Object(u.jsx)("p",{children:e.movieDetails.tagline}),Object(u.jsxs)("div",{children:[Object(u.jsxs)($,{children:[" ",t," "]})," year",Object(u.jsxs)($,{children:[" ",e.movieDetails.runtime," "]})," min"]}),Object(u.jsx)("p",{children:e.movieDetails.overview}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{style:{color:"red"},children:e.movieDetails.genres.join(",")})]})]})]})},te=function(e){return Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)("div",{style:{padding:"1rem"},children:"Recommended movies"}),Object(u.jsx)(x.a,{xs:1,sm:2,md:3,lg:4,children:e.moviesByGenre&&e.moviesByGenre.length>0?e.moviesByGenre.map((function(e){return Object(u.jsx)(K,{movie:e},e.id)})):Object(u.jsx)("div",{children:"No results found"})})]})},ne=function(e){Object(W.a)(n,e);var t=Object(z.a)(n);function n(){var e;return Object(V.a)(this,n),(e=t.call(this)).state={loading:!0},e}return Object(P.a)(n,[{key:"componentDidMount",value:function(){console.log(this.props),"function"===typeof this.props.getMovieDetails&&this.props.getMovieDetails(this.props.match.params.movieId),"function"===typeof this.props.getMoviesByGenre&&this.props.movieDetails&&this.props.getMoviesByGenre(this.props.movieDetails.genres[0]),this.setState({loading:!1})}},{key:"render",value:function(){return console.log(this.props),Object(u.jsx)(a.Fragment,{children:this.state.loading?Object(u.jsx)("h1",{children:"loading..."}):Object(u.jsxs)(a.Fragment,{children:[Object(u.jsx)(ee,Object(p.a)({},this.props)),Object(u.jsx)(te,Object(p.a)({},this.props))]})})}}]),n}(a.Component),re=Object(I.b)((function(e){return{movieDetails:e.movieDetails.movieDetails,moviesByGenre:e.movieDetails.moviesByGenre}}),{getMovieDetails:function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var r,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(R,"/").concat(e));case 3:return r=t.sent,t.next=6,r.json();case 6:s=t.sent,n({type:C,movieDetails:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},getMoviesByGenre:function(e){return function(){var t=Object(k.a)(w.a.mark((function t(n){var r,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("getMoviesByGenre"),t.next=4,fetch("".concat(R,"/?search=").concat(e,"&searchBy=genres&limit=10"));case 4:return r=t.sent,t.next=7,r.json();case 7:s=t.sent,n({type:_,moviesByGenre:s.data}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()}})(ne),se=n(10),ce={},ie={sortedMovies:[]},oe=Object(se.c)({movieDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(p.a)(Object(p.a)({},e),{},{movieDetails:t.movieDetails});case _:return Object(p.a)(Object(p.a)({},e),{},{moviesByGenre:t.moviesByGenre});default:return e}},movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:case B:case E:case T:return Object(p.a)(Object(p.a)({},e),{},{sortedMovies:t.payload});default:return e}}}),ae=n(25),le=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"404 - Not Found!"}),Object(u.jsx)(v.b,{to:"/movies-app",children:"Go Home"})]})},de=Object(se.d)(oe,Object(se.a)(ae.a));var je=function(){return Object(u.jsx)(I.a,{store:de,children:Object(u.jsx)(v.a,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)(b.c,{children:[Object(u.jsx)(b.a,{exact:!0,path:"/movies-app",component:X}),Object(u.jsx)(b.a,{path:"/movies-app/details/:movieId",render:function(e){return Object(u.jsx)(re,Object(p.a)({},e),e.match.params.movieId)}}),Object(u.jsx)(b.a,{component:le})]}),Object(u.jsx)(h,{})]})})})},pe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),c(e),i(e)}))};n(53),n(54),Object(se.d)(oe,Object(se.a)(ae.a));j.a.render(Object(u.jsx)(l.a.StrictMode,{children:Object(u.jsx)(je,{})}),document.getElementById("root")),pe()}},[[55,1,2]]]);
//# sourceMappingURL=main.391b8bdf.chunk.js.map